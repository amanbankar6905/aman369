# Given lists
list1 = [1, 3, 6, 78, 35, 55]
list2 = [12, 24, 35, 24, 88, 120, 155]

# Convert list2 to a set for O(1) membership tests when checking containment.
set2 = set(list2)

# 'seen' tracks values already added to the intersection to avoid duplicates.
seen = set()

# Build the intersection:
# - iterate over list1 to preserve its order in the result
# - keep x if it's in set2 (present in list2)
# - ensure each value is added only once by checking/adding to 'seen'
intersection = [x for x in list1 if x in set2 and (x not in seen and not seen.add(x))]

# Print the resulting intersection list
print(intersection)